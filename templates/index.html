<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Zona Fresnel</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5 p-4 shadow rounded bg-white">
        <div class="row">
            <div class="col-lg-8">
                <h1 class="text-center mb-4">Calculadora de Zona Fresnel</h1>
                <form id="fresnelForm" class="row g-3">
            <div class="col-md-6">
                <label for="distancia" class="form-label">Distancia total:</label>
                <input type="number" id="distancia" class="form-control" step="0.1" required>
            </div>
            <div class="col-md-6">
                <label for="unidad_distancia" class="form-label">Unidad:</label>
                <select id="unidad_distancia" class="form-select">
                    <option value="km">km</option>
                    <option value="m">m</option>
                </select>
            </div>
            <div class="col-md-6">
                <label for="frecuencia" class="form-label">Frecuencia:</label>
                <input type="number" id="frecuencia" class="form-control" step="0.1" required>
            </div>
            <div class="col-md-6">
                <label for="unidad_frecuencia" class="form-label">Unidad:</label>
                <select id="unidad_frecuencia" class="form-select">
                    <option value="GHz">GHz</option>
                    <option value="MHz">MHz</option>
                </select>
            </div>
            <div class="col-md-6">
                <label for="altura_obstaculo" class="form-label">Altura de obstáculo (m, opcional):</label>
                <input type="number" id="altura_obstaculo" class="form-control" step="0.1">
            </div>
            <div class="col-md-6">
                <label for="comparar_frecuencias" class="form-label">Comparar con otras frecuencias (separadas por coma):</label>
                <input type="text" id="comparar_frecuencias" class="form-control" placeholder="Ej: 2.4,5,10">
            </div>
            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary px-5">Calcular</button>
            </div>
        </form>

        <div id="resultado" class="alert alert-success mt-4"></div>
        <div id="explicacion" class="mt-2"></div>
        <div id="comparaciones" class="mt-2"></div>
        <div id="historial" class="mt-2"></div>

                <canvas id="grafico" class="mt-4 border rounded" style="background:#f8f9fa;"></canvas>
            </div>
            <div class="col-lg-4">
                <div class="sticky-top" style="top:30px">
                    <div class="card mb-3 border-info">
                        <div class="card-header bg-info text-white">¿Qué es la zona de Fresnel?</div>
                        <div class="card-body">
                            <p>La <b>zona de Fresnel</b> es una región elíptica alrededor de la línea recta que une dos antenas en un enlace inalámbrico. Dentro de esta zona, las ondas pueden interferir y afectar la calidad de la señal.</p>
                        </div>
                    </div>
                    <div class="card mb-3 border-primary">
                        <div class="card-header bg-primary text-white">¿Para qué sirve calcularla?</div>
                        <div class="card-body">
                            <p>Calcular la zona de Fresnel permite saber si existen obstáculos que puedan bloquear o atenuar la señal. Es fundamental para diseñar enlaces eficientes y evitar pérdidas inesperadas.</p>
                        </div>
                    </div>
                    <div class="card mb-3 border-warning">
                        <div class="card-header bg-warning text-dark">¿En qué influye?</div>
                        <div class="card-body">
                            <p>Si la zona de Fresnel está obstruida, la señal puede sufrir <b>pérdidas por difracción</b> y <b>interferencias</b>, reduciendo la calidad y el alcance del enlace. Por eso, se recomienda mantener al menos el 60% de la zona libre de obstáculos.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
